<div ng-include="'app/inc/navbar.html'"></div>

<div class="container">
  <div class="row">
    <div class="col-lg-12">
      <h1>Welcome to the first Web Referral Service!</h1>
      <p>To get started, add a link using the form below. Once you do, a URL will be generated.<br>
        When a user visits the URL, it will be tracked as a "click."<p>

      <div referral-form></div>

      <table class="table referral-links">
        <thead>
          <tr>
            <th><a href="#" ng-click="sortOrder('link')">Link title</a></th>
            <th>URL</th>
            <th><a href="#" ng-click="sortOrder('clicks')">Clicks</a></th>
            <th><!-- intentionally left empty --></th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="referral in referrals | orderBy:predicate:reverse">
            <td class="col-md-4">
              <a href="#" editable-text="referral.link" onbeforesave="editReferral(referral, $data)" title="Edit referral">{{ referral.link | hyphenate : "empty" }}</a>
              <a href="/{{referral.link | hyphenate}}" class="fa fa-external-link" target="_blank" title="View referral"><span class="visually-hidden">View link</span></a>
            </td>
            <td class="col-md-4">/{{referral.link}} <a href="#" ng-click="copyLink(referral.link)">[Copy]</a></td>
            <td class="col-md-2">{{referral.clicks}}</td>
            <td class="col-md-2"><a href="#" ng-click="deleteReferral(referral)" title="Delete referral"><i class="fa fa-trash-o"><span class="visually-hidden">Trash it</span></i></a></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>